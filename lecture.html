<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kim Antunez, Etienne Côme">

<title>Atelier R Statistique spatiale et Cartographie</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="lecture_files/libs/clipboard/clipboard.min.js"></script>
<script src="lecture_files/libs/quarto-html/quarto.js"></script>
<script src="lecture_files/libs/quarto-html/popper.min.js"></script>
<script src="lecture_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="lecture_files/libs/quarto-html/anchor.min.js"></script>
<link href="lecture_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lecture_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="lecture_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="lecture_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="lecture_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="lecture_files/libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="lecture_files/libs/jquery-1.12.4/jquery.min.js"></script>
<link href="lecture_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="lecture_files/libs/leaflet-1.3.1/leaflet.js"></script>
<link href="lecture_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="lecture_files/libs/proj4-2.6.2/proj4.min.js"></script>
<script src="lecture_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="lecture_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="lecture_files/libs/leaflet-binding-2.1.2/leaflet.js"></script>
<script src="lecture_files/libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="lecture_files/libs/leaflet-providers-plugin-2.1.2/leaflet-providers-plugin.js"></script>
<link href="lecture_files/libs/HomeButton-0.0.1/home-button.css" rel="stylesheet">
<script src="lecture_files/libs/HomeButton-0.0.1/home-button.js"></script>
<script src="lecture_files/libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="lecture_files/libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="lecture_files/libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet">
<link href="lecture_files/libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table des matières</h2>
   
  <ul>
  <li><a href="#lécosystème-spatial-sur-r" id="toc-lécosystème-spatial-sur-r" class="nav-link active" data-scroll-target="#lécosystème-spatial-sur-r">L’écosystème spatial sur R</a>
  <ul class="collapse">
  <li><a href="#introduction-à-sf" id="toc-introduction-à-sf" class="nav-link" data-scroll-target="#introduction-à-sf">Introduction à <code>sf</code></a></li>
  <li><a href="#structure-dun-objets-sf" id="toc-structure-dun-objets-sf" class="nav-link" data-scroll-target="#structure-dun-objets-sf">Structure d’un objets sf :</a></li>
  <li><a href="#importer-exporter-des-données" id="toc-importer-exporter-des-données" class="nav-link" data-scroll-target="#importer-exporter-des-données">Importer / exporter des données</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#système-de-coordonnées" id="toc-système-de-coordonnées" class="nav-link" data-scroll-target="#système-de-coordonnées">Système de coordonnées</a></li>
  <li><a href="#projection" id="toc-projection" class="nav-link" data-scroll-target="#projection">Projection</a></li>
  <li><a href="#afficher-les-données" id="toc-afficher-les-données" class="nav-link" data-scroll-target="#afficher-les-données">Afficher les données</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"></a></li>
  <li><a href="#extraire-les-centroïdes" id="toc-extraire-les-centroïdes" class="nav-link" data-scroll-target="#extraire-les-centroïdes">Extraire les centroïdes</a></li>
  <li><a href="#matrice-de-distance" id="toc-matrice-de-distance" class="nav-link" data-scroll-target="#matrice-de-distance">Matrice de distance</a></li>
  <li><a href="#agrégation-de-polygones" id="toc-agrégation-de-polygones" class="nav-link" data-scroll-target="#agrégation-de-polygones">Agrégation de polygones</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2"></a></li>
  <li><a href="#zone-tampon" id="toc-zone-tampon" class="nav-link" data-scroll-target="#zone-tampon">Zone tampon</a></li>
  <li><a href="#intersection-de-polygones" id="toc-intersection-de-polygones" class="nav-link" data-scroll-target="#intersection-de-polygones">Intersection de polygones</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3"></a></li>
  <li><a href="#compter-les-points-dans-des-polygones" id="toc-compter-les-points-dans-des-polygones" class="nav-link" data-scroll-target="#compter-les-points-dans-des-polygones">Compter les points dans des polygones</a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4"></a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5"></a></li>
  <li><a href="#section-6" id="toc-section-6" class="nav-link" data-scroll-target="#section-6"></a></li>
  <li><a href="#polygones-de-voronoï" id="toc-polygones-de-voronoï" class="nav-link" data-scroll-target="#polygones-de-voronoï">Polygones de Voronoï</a></li>
  <li><a href="#section-7" id="toc-section-7" class="nav-link" data-scroll-target="#section-7"></a></li>
  <li><a href="#autres-traitements" id="toc-autres-traitements" class="nav-link" data-scroll-target="#autres-traitements">Autres traitements</a></li>
  <li><a href="#section-8" id="toc-section-8" class="nav-link" data-scroll-target="#section-8"></a></li>
  <li><a href="#conversion" id="toc-conversion" class="nav-link" data-scroll-target="#conversion">Conversion</a></li>
  </ul></li>
  <li><a href="#faire-des-cartes-interactives-et-statiques" id="toc-faire-des-cartes-interactives-et-statiques" class="nav-link" data-scroll-target="#faire-des-cartes-interactives-et-statiques">Faire des cartes interactives et statiques</a>
  <ul class="collapse">
  <li><a href="#section-9" id="toc-section-9" class="nav-link" data-scroll-target="#section-9"></a></li>
  <li><a href="#section-10" id="toc-section-10" class="nav-link" data-scroll-target="#section-10"></a></li>
  <li><a href="#section-11" id="toc-section-11" class="nav-link" data-scroll-target="#section-11"></a></li>
  <li><a href="#cartes-interactives" id="toc-cartes-interactives" class="nav-link" data-scroll-target="#cartes-interactives">Cartes interactives</a></li>
  <li><a href="#section-12" id="toc-section-12" class="nav-link" data-scroll-target="#section-12"></a></li>
  <li><a href="#section-13" id="toc-section-13" class="nav-link" data-scroll-target="#section-13"></a></li>
  <li><a href="#section-14" id="toc-section-14" class="nav-link" data-scroll-target="#section-14"></a></li>
  <li><a href="#cartes-statiques-avec-ggplot2" id="toc-cartes-statiques-avec-ggplot2" class="nav-link" data-scroll-target="#cartes-statiques-avec-ggplot2">Cartes statiques avec <code>ggplot2</code></a></li>
  <li><a href="#section-15" id="toc-section-15" class="nav-link" data-scroll-target="#section-15"></a></li>
  <li><a href="#la-grammaire-des-graphiques" id="toc-la-grammaire-des-graphiques" class="nav-link" data-scroll-target="#la-grammaire-des-graphiques">La grammaire des graphiques</a></li>
  <li><a href="#section-16" id="toc-section-16" class="nav-link" data-scroll-target="#section-16"></a>
  <ul class="collapse">
  <li><a href="#composantes-de-la-grammaire" id="toc-composantes-de-la-grammaire" class="nav-link" data-scroll-target="#composantes-de-la-grammaire">Composantes de la grammaire</a></li>
  </ul></li>
  <li><a href="#section-17" id="toc-section-17" class="nav-link" data-scroll-target="#section-17"></a></li>
  <li><a href="#intégrer-des-données-spatiales-avec-geom_sf" id="toc-intégrer-des-données-spatiales-avec-geom_sf" class="nav-link" data-scroll-target="#intégrer-des-données-spatiales-avec-geom_sf">Intégrer des données spatiales avec <code>geom_sf</code></a></li>
  <li><a href="#section-18" id="toc-section-18" class="nav-link" data-scroll-target="#section-18"></a></li>
  <li><a href="#section-19" id="toc-section-19" class="nav-link" data-scroll-target="#section-19"></a></li>
  <li><a href="#section-20" id="toc-section-20" class="nav-link" data-scroll-target="#section-20"></a>
  <ul class="collapse">
  <li><a href="#cartes-avec-ronds-proportionnels" id="toc-cartes-avec-ronds-proportionnels" class="nav-link" data-scroll-target="#cartes-avec-ronds-proportionnels">Cartes avec ronds proportionnels</a></li>
  </ul></li>
  <li><a href="#section-21" id="toc-section-21" class="nav-link" data-scroll-target="#section-21"></a>
  <ul class="collapse">
  <li><a href="#cartes-choroplèthes" id="toc-cartes-choroplèthes" class="nav-link" data-scroll-target="#cartes-choroplèthes">Cartes choroplèthes</a></li>
  </ul></li>
  <li><a href="#carte-avec-mapsf" id="toc-carte-avec-mapsf" class="nav-link" data-scroll-target="#carte-avec-mapsf">Carte avec <code>mapsf</code></a></li>
  </ul></li>
  <li><a href="#pour-aller-plus-loin" id="toc-pour-aller-plus-loin" class="nav-link" data-scroll-target="#pour-aller-plus-loin">Pour aller plus loin</a>
  <ul class="collapse">
  <li><a href="#lissage-spatial" id="toc-lissage-spatial" class="nav-link" data-scroll-target="#lissage-spatial">Lissage spatial</a></li>
  <li><a href="#données-raster" id="toc-données-raster" class="nav-link" data-scroll-target="#données-raster">Données raster</a></li>
  <li><a href="#géocodage" id="toc-géocodage" class="nav-link" data-scroll-target="#géocodage">Géocodage</a></li>
  <li><a href="#données-osm" id="toc-données-osm" class="nav-link" data-scroll-target="#données-osm">Données OSM</a></li>
  <li><a href="#section-22" id="toc-section-22" class="nav-link" data-scroll-target="#section-22"></a></li>
  <li><a href="#réseaux-linéaires-et-graphes" id="toc-réseaux-linéaires-et-graphes" class="nav-link" data-scroll-target="#réseaux-linéaires-et-graphes">Réseaux linéaires et graphes</a></li>
  <li><a href="#cartographie-interactive" id="toc-cartographie-interactive" class="nav-link" data-scroll-target="#cartographie-interactive">Cartographie interactive</a></li>
  <li><a href="#ressources" id="toc-ressources" class="nav-link" data-scroll-target="#ressources">Ressources</a></li>
  <li><a href="#section-23" id="toc-section-23" class="nav-link" data-scroll-target="#section-23"></a></li>
  </ul></li>
  <li><a href="#crédits-et-reproductibilité" id="toc-crédits-et-reproductibilité" class="nav-link" data-scroll-target="#crédits-et-reproductibilité"><small> Crédits et reproductibilité</small></a>
  <ul class="collapse">
  <li><a href="#section-24" id="toc-section-24" class="nav-link" data-scroll-target="#section-24"></a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Autres formats</h2><ul><li><a href="lecture-slides.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><strong>Atelier R</strong> Statistique spatiale et Cartographie</h1>
<p class="subtitle lead"><strong>Rencontres R</strong> Juin 2023</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Auteurs</div>
    <div class="quarto-title-meta-contents">
             <p>Kim Antunez, Etienne Côme </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="lécosystème-spatial-sur-r" class="level1">
<h1>L’écosystème spatial sur R</h1>
<div class="cell">
<style type="text/css">
[id^="section"] .anchored {
  margin: 0;
  border: 0;
  padding:0;
}
[id^="section"] .anchorjs-link {
  display:none;
}
</style>
</div>
<section id="introduction-à-sf" class="level2">
<h2 class="anchored" data-anchor-id="introduction-à-sf">Introduction à <code>sf</code></h2>
<ul>
<li><p>Site web de <code>sf</code>: <a href="https://r-spatial.github.io/sf/index.html">Simple Features for R</a></p></li>
<li><p>sf pour Simple Features</p></li>
<li><p>A pour but de rassembler les fonctionnalités d’anciens packages (<code>sp</code>, <code>rgeos</code> and <code>rgdal</code>) en un seul</p></li>
<li><p>Facilite la manipulation de données spatiales, avec des objets simples.</p></li>
<li><p><a href="http://vita.had.co.nz/papers/tidy-data.html">Tidy data</a>: compatible avec la syntaxe pipe <code>|&gt;</code> et les opérateurs du <code>tidyverse</code>.</p></li>
<li><p>Principal auteur et mainteneur : Edzer Pebesma (également auteur du package <code>sp</code>)</p></li>
</ul>
</section>
<section id="structure-dun-objets-sf" class="level2">
<h2 class="anchored" data-anchor-id="structure-dun-objets-sf">Structure d’un objets sf :</h2>
<p><img src="img/sf.png" alt="format sf" width="100%"></p>
</section>
<section id="importer-exporter-des-données" class="level2">
<h2 class="anchored" data-anchor-id="importer-exporter-des-données">Importer / exporter des données</h2>
<p>Importer</p>
<div class="cell" data-comments="false">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>mtq <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"data/mtq/martinique.shp"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>mtq <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">"data/mtq/martinique.shp"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `martinique' from data source 
  `/Users/runner/work/RR2023_tuto_statspatiale/RR2023_tuto_statspatiale/lecture/data/mtq/martinique.shp' 
  using driver `ESRI Shapefile'
Simple feature collection with 34 features and 23 fields
Geometry type: POLYGON
Dimension:     XY
Bounding box:  xmin: 690574.4 ymin: 1592426 xmax: 736126.5 ymax: 1645660
Projected CRS: WGS 84 / UTM zone 20N</code></pre>
</div>
</div>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<p>Exporter</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#exporter</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_sf</span>(mtq,<span class="st">"data/mtq/martinique.gpkg"</span>,<span class="at">delete_layer =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">st_write</span>(mtq,<span class="st">"data/mtq/martinique.gpkg"</span>,<span class="at">delete_layer =</span> <span class="cn">TRUE</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Le format gpkg (geopackage) est ouvert (non lié à un système d’exploitation) et implémenté sous la forme d’une base de données SQLite.</p>
<p><small> Noter également l’existence du format GeoParquet extrêmement efficace pour traiter de gros volumes de données spatiales. </small></p>
</section>
<section id="système-de-coordonnées" class="level2">
<h2 class="anchored" data-anchor-id="système-de-coordonnées">Système de coordonnées</h2>
<p>Les projections/systèmes de coordonnées sont répertoriés grâce à un code appelé code epsg :</p>
<ul>
<li>lat/long : 4326 <a href="https://epsg.io/4326">https://epsg.io/4326</a></li>
<li>Lambert 93 : 2154 <a href="https://epsg.io/2154">https://epsg.io/2154</a></li>
<li>Pseudo-Mercator : 3857 <a href="https://epsg.io/3857">https://epsg.io/3857</a></li>
<li>Lambert azimuthal equal area : 3035 <a href="https://epsg.io/3035">https://epsg.io/3035</a></li>
</ul>
</section>
<section id="projection" class="level2">
<h2 class="anchored" data-anchor-id="projection">Projection</h2>
<p>Obtenir la projection en utilisant <code>st_crs()</code> (<a href="https://epsg.io/">code epsg</a>) et la modifier en utilisant <code>st_transform()</code>.</p>
<p><small> <code>sf</code> utilise la géométrie sphérique par défaut pour les données non projetées depuis la version 1.0 grâce à la librairie <code>s2</code>. Voir sur <a href="https://r-spatial.github.io/sf/articles/sf7.html">https://r-spatial.github.io</a> pour plus de détails. </small></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(mtq)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: WGS 84 / UTM zone 20N 
  wkt:
PROJCRS["WGS 84 / UTM zone 20N",
    BASEGEOGCRS["WGS 84",
        DATUM["World Geodetic System 1984",
            ELLIPSOID["WGS 84",6378137,298.257223563,
                LENGTHUNIT["metre",1]]],
        PRIMEM["Greenwich",0,
            ANGLEUNIT["degree",0.0174532925199433]],
        ID["EPSG",4326]],
    CONVERSION["UTM zone 20N",
        METHOD["Transverse Mercator",
            ID["EPSG",9807]],
        PARAMETER["Latitude of natural origin",0,
            ANGLEUNIT["Degree",0.0174532925199433],
            ID["EPSG",8801]],
        PARAMETER["Longitude of natural origin",-63,
            ANGLEUNIT["Degree",0.0174532925199433],
            ID["EPSG",8802]],
        PARAMETER["Scale factor at natural origin",0.9996,
            SCALEUNIT["unity",1],
            ID["EPSG",8805]],
        PARAMETER["False easting",500000,
            LENGTHUNIT["metre",1],
            ID["EPSG",8806]],
        PARAMETER["False northing",0,
            LENGTHUNIT["metre",1],
            ID["EPSG",8807]]],
    CS[Cartesian,2],
        AXIS["(E)",east,
            ORDER[1],
            LENGTHUNIT["metre",1]],
        AXIS["(N)",north,
            ORDER[2],
            LENGTHUNIT["metre",1]],
    ID["EPSG",32620]]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mtq_4326 <span class="ot">&lt;-</span> mtq <span class="sc">|&gt;</span> <span class="fu">st_transform</span>(<span class="dv">4326</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="afficher-les-données" class="level2">
<h2 class="anchored" data-anchor-id="afficher-les-données">Afficher les données</h2>
<p>Affichage par défaut :</p>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mtq)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: plotting the first 9 out of 23 attributes; use max.plot = 23 to plot
all</code></pre>
</div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1"></h2>
<p>En ne gardant que la géométrie :</p>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="extraire-les-centroïdes" class="level2">
<h2 class="anchored" data-anchor-id="extraire-les-centroïdes">Extraire les centroïdes</h2>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>mtq_c <span class="ot">&lt;-</span> <span class="fu">st_centroid</span>(mtq) </span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: st_centroid assumes attributes are constant over geometries</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq_c), <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">cex =</span> <span class="fl">1.2</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">pch =</span> <span class="dv">20</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="matrice-de-distance" class="level2">
<h2 class="anchored" data-anchor-id="matrice-de-distance">Matrice de distance</h2>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">st_distance</span>(<span class="at">x =</span> mtq_c, <span class="at">y =</span> mtq_c)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>mat[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Units: [m]
          [,1]     [,2]      [,3]      [,4]      [,5]
[1,]     0.000 35297.56  3091.501 12131.617 17136.310
[2,] 35297.557     0.00 38332.602 25518.913 18605.249
[3,]  3091.501 38332.60     0.000 15094.702 20226.198
[4,] 12131.617 25518.91 15094.702     0.000  7177.011
[5,] 17136.310 18605.25 20226.198  7177.011     0.000</code></pre>
</div>
</div>
</section>
<section id="agrégation-de-polygones" class="level2">
<h2 class="anchored" data-anchor-id="agrégation-de-polygones">Agrégation de polygones</h2>
<p>Union simple :</p>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>mtq_u <span class="ot">&lt;-</span> <span class="fu">st_union</span>(mtq)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq), <span class="at">col=</span><span class="st">"lightblue"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq_u), <span class="at">add=</span>T, <span class="at">lwd=</span><span class="dv">2</span>, <span class="at">border =</span> <span class="st">"red"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2"></h2>
<p>A partir d’une variable de regroupement :</p>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>mtq_u2 <span class="ot">&lt;-</span> mtq <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATUT) <span class="sc">|&gt;</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">P13_POP =</span> <span class="fu">sum</span>(P13_POP))</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq), <span class="at">col=</span><span class="st">"lightblue"</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq_u2), <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">border =</span> <span class="st">"red"</span>, <span class="at">col =</span> <span class="cn">NA</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="zone-tampon" class="level2">
<h2 class="anchored" data-anchor-id="zone-tampon">Zone tampon</h2>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>mtq_b <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(<span class="at">x =</span> mtq_u, <span class="at">dist =</span> <span class="dv">5000</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq), <span class="at">col =</span> <span class="st">"lightblue"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq_u), <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq_b), <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">border =</span> <span class="st">"red"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="intersection-de-polygones" class="level2">
<h2 class="anchored" data-anchor-id="intersection-de-polygones">Intersection de polygones</h2>
<p>On crée un polygone.</p>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">c</span>(<span class="dv">700015</span>,<span class="dv">1624212</span>), <span class="fu">c</span>(<span class="dv">700015</span>,<span class="dv">1641586</span>), <span class="fu">c</span>(<span class="dv">719127</span>,<span class="dv">1641586</span>), </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>           <span class="fu">c</span>(<span class="dv">719127</span>,<span class="dv">1624212</span>), <span class="fu">c</span>(<span class="dv">700015</span>,<span class="dv">1624212</span>))</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">st_sf</span>(<span class="fu">st_sfc</span>(<span class="fu">st_polygon</span>(<span class="fu">list</span>(m))), <span class="at">crs =</span> <span class="fu">st_crs</span>(mtq))</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq))</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p, <span class="at">border =</span> <span class="st">"red"</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3"></h2>
<p><code>st_intersection()</code> extrait la partie de <code>mtq</code> qui s’intersecte avec le polygone créé.</p>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>mtq_z <span class="ot">&lt;-</span> <span class="fu">st_intersection</span>(<span class="at">x =</span> mtq, <span class="at">y =</span> p)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq))</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq_z), <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">border =</span> <span class="st">"green"</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="compter-les-points-dans-des-polygones" class="level2">
<h2 class="anchored" data-anchor-id="compter-les-points-dans-des-polygones">Compter les points dans des polygones</h2>
<p><code>st_sample()</code> crée des points aléatoires sur la carte.</p>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>pts <span class="ot">&lt;-</span> <span class="fu">st_sample</span>(<span class="at">x =</span> mtq, <span class="at">size =</span> <span class="dv">50</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq))</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pts, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">add=</span><span class="cn">TRUE</span>, <span class="at">cex =</span> <span class="dv">1</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4"></h2>
<p><code>st_join</code> permet d’effectuer une jointure spatiale couplée d’une agrégation.</p>
<p><small> Il est possible de contrôler finement la jointure (points sur les frontières, …) avec l’argument <code>join</code> qui par défaut est fixé à <code>st_intersects()</code>. Voir <a href="https://en.wikipedia.org/wiki/DE-9IM">ici</a> pour une définition précise des prédicats spatiaux possibles. </small></p>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>mtq_counts <span class="ot">&lt;-</span> mtq <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">st_join</span>(<span class="fu">st_as_sf</span>(pts))</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mtq_counts <span class="sc">|&gt;</span> <span class="fu">select</span>(INSEE_COM),<span class="dv">3</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 3 features and 1 field
Geometry type: POLYGON
Dimension:     XY
Bounding box:  xmin: 697601.7 ymin: 1598817 xmax: 710461.9 ymax: 1640521
Projected CRS: WGS 84 / UTM zone 20N
    INSEE_COM                       geometry
1       97201 POLYGON ((699261.2 1637681,...
2       97202 POLYGON ((709840 1599026, 7...
2.1     97202 POLYGON ((709840 1599026, 7...</code></pre>
</div>
</div>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5"></h2>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>mtq_counts <span class="ot">&lt;-</span> mtq_counts <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(INSEE_COM)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mtq_counts)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 6 features and 2 fields
Geometry type: POLYGON
Dimension:     XY
Bounding box:  xmin: 695444.4 ymin: 1598817 xmax: 717731.2 ymax: 1645182
Projected CRS: WGS 84 / UTM zone 20N
  INSEE_COM n                       geometry
1     97201 1 POLYGON ((699261.2 1637681,...
2     97202 2 POLYGON ((709840 1599026, 7...
3     97203 4 POLYGON ((706092.8 1642964,...
4     97204 1 POLYGON ((697314.8 1623213,...
5     97205 1 POLYGON ((702756.8 1617978,...
6     97206 1 POLYGON ((709840 1599026, 7...</code></pre>
</div>
</div>
</section>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6"></h2>
<div class="cell" data-nm="true">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mtq_counts<span class="sc">|&gt;</span> <span class="fu">select</span>(n))</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pts, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">cex =</span> <span class="dv">1</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/p0c-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="polygones-de-voronoï" class="level2">
<h2 class="anchored" data-anchor-id="polygones-de-voronoï">Polygones de Voronoï</h2>
<p>Un diagramme de Voronoï est un découpage du plan en cellules (régions adjacentes, appelées polygones de Voronoï) à partir d’un ensemble discret de points. Chaque cellule enferme un seul point, et forme l’ensemble des points du plan qui sont plus proches de ce point que d’aucun autre.</p>
<p>Voir également <a href="https://github.com/r-spatial/sf/issues/474">ici</a> et <a href="https://stackoverflow.com/questions/45719790/create-voronoi-polygon-with-simple-feature-in-r">là</a>.</p>
</section>
<section id="section-7" class="level2">
<h2 class="anchored" data-anchor-id="section-7"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>mtq_v <span class="ot">&lt;-</span> <span class="fu">st_collection_extract</span>(<span class="fu">st_voronoi</span>(<span class="at">x =</span> <span class="fu">st_union</span>(mtq_c)))</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>mtq_v <span class="ot">&lt;-</span> <span class="fu">st_intersection</span>(mtq_v, <span class="fu">st_union</span>(mtq))</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>mtq_v <span class="ot">&lt;-</span> <span class="fu">st_join</span>(<span class="at">x =</span> <span class="fu">st_sf</span>(mtq_v), <span class="at">y =</span> mtq_c)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mtq_v), <span class="at">col=</span><span class="st">'lightblue'</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="autres-traitements" class="level2">
<h2 class="anchored" data-anchor-id="autres-traitements">Autres traitements</h2>
<ul>
<li>st_area(x)</li>
<li>st_length(x)</li>
<li>st_disjoint(x, y, sparse = FALSE)</li>
<li>st_touches(x, y, sparse = FALSE)</li>
<li>st_crosses(s, s, sparse = FALSE)</li>
<li>st_within(x, y, sparse = FALSE)</li>
<li>st_contains(x, y, sparse = FALSE)</li>
<li>st_overlaps(x, y, sparse = FALSE)</li>
</ul>
</section>
<section id="section-8" class="level2">
<h2 class="anchored" data-anchor-id="section-8"></h2>
<ul>
<li>st_equals(x, y, sparse = FALSE)</li>
<li>st_covers(x, y, sparse = FALSE)</li>
<li>st_covered_by(x, y, sparse = FALSE)</li>
<li>st_equals_exact(x, y,0.001, sparse = FALSE)</li>
<li>…</li>
</ul>
</section>
<section id="conversion" class="level2">
<h2 class="anchored" data-anchor-id="conversion">Conversion</h2>
<ul>
<li>st_cast</li>
<li>st_collection_extract</li>
<li>st_sf</li>
<li>st_as_sf</li>
<li>st_as_sfc</li>
</ul>
<!-- # Préparer / récupérer des données  -->
<!-- Dans ce premier exemple, les données sont stockées dans un fichier shapefile.  -->
<!-- ```{r, eval=TRUE,cache=FALSE} -->
<!-- library(sf) -->
<!-- library(dplyr) -->
<!-- # Import de la couche géographique (iris de Paris) -->
<!-- iris.75 <- st_read("data/iris_75.shp", stringsAsFactors = F)  -->
<!-- ``` -->
<!-- Regardons la projection utilisée :  -->
<!-- ```{r, eval=TRUE,cache=FALSE} -->
<!-- st_crs(iris.75) -->
<!-- ``` -->
<!-- Dans ce second exemple, il s'agit de données ponctuelles stockées dans un fichier csv avec deux colonnes (latitude et longitude en WGS84). Dans ce cas, on importe le csv puis on convertit le `data.frame` en `data.frame` spatial (`sf`) grâce à la fonction `st_as_sf`. Il suffit de spécifier le nom des colonnes contenant les coordonnées ainsi que le CRS. Généralement, on utilisera le code epsg de WGS84 (4326). -->
<!-- ```{r, eval=TRUE,cache=FALSE, fig.height=5} -->
<!-- # Import du dataset   -->
<!-- accidents.2019.paris <- readRDS("data/accidents2019_paris.RDS") -->
<!-- # Transformation en objet sf -->
<!-- accidents.2019.paris <- st_as_sf(accidents.2019.paris, -->
<!--                                 coords = c("long", "lat"), -->
<!--                                 crs = 4326, agr = "constant") |>  -->
<!--   st_transform(2154) -->
<!-- plot(st_geometry(accidents.2019.paris)) -->
<!-- ``` -->
<!-- Regardons rapidement ces deux jeux de données. -->
<!-- Tout d'abord, localisons les personnes accidentées selon la gravité des leurs blessures -->
<!-- ```{r, eval=TRUE,cache=FALSE, fig.height=5} -->
<!-- plot(st_geometry(iris.75)) -->
<!-- # Les personnes non blessées ou blessées légèrement -->
<!-- plot(accidents.2019.paris |> filter(grav%in%c(1,4)) |> st_geometry, -->
<!--      pch = 20, col = "darkgreen", add=TRUE, cex = 0.5) -->
<!-- # Les personnes blessées gravement -->
<!-- plot(accidents.2019.paris |> filter(grav == 3) |> st_geometry, -->
<!--      pch = 20, col = "orange", add=TRUE, cex = 0.5) -->
<!-- # Les personnes tuées -->
<!-- plot(accidents.2019.paris |> filter(grav == 2) |> st_geometry, -->
<!--      pch = 20, col = "red", add=TRUE, cex = 1) -->
<!-- ``` -->
<!-- Comptons par iris :  -->
<!-- 1. le nombre de personnes accidentées (`nbacc`) ; -->
<!-- 1. le nombre de personnes accidentées qui ont été gravement blessées ou tuées (`nbacc_blessgravtues`). -->
<!-- ```{r, eval=TRUE,cache=FALSE, fig.height=5} -->
<!-- inter <- st_intersects(iris.75, accidents.2019.paris) -->
<!-- inter_blessgravtues <- st_intersects(iris.75, accidents.2019.paris -->
<!--                               |> filter(grav%in%c(2,3))) -->
<!-- iris.75$nbacc <- sapply(X = inter, FUN = length) -->
<!-- iris.75$nbacc_blessgravtues <- sapply(X = inter_blessgravtues, FUN = length) -->
<!-- #Remarque : Il manque 24 accidents -->
<!-- nrow(accidents.2019.paris)-sum(iris.75$nbacc) -->
<!-- ``` -->
<!-- ## Utiliser `osmdata` -->
<!-- `osmdata` permet d'extraire des éléments de la base de données gratuite et open-source OpenStreetMap. Cela peut nous servir par exemple pour récupérer des élements d'habillage : fleuves, routes ou autres informations. -->
<!-- La requête suit la nomenclature OSM sur base de [clés / valeurs](https://wiki.openstreetmap.org/wiki/Tags). Vous pouvez utiliser [tagingo](https://taginfo.openstreetmap.org/) pour explorer l'ensemble des clés et valeurs utilisées par la communauté OSM. -->
<!-- ```{r, eval=FALSE,cache=FALSE} -->
<!-- library(osmdata) -->
<!-- # Récupérer les routes principales grâce à osm -->
<!-- bb      <- iris.75 |> st_transform(4326) |> st_bbox() -->
<!-- q       <- opq(bbox = bb,timeout = 180) -->
<!-- qm      <- add_osm_feature (q, key = 'highway', -->
<!--                             value = 'motorway', value_exact = FALSE) -->
<!-- qt      <- add_osm_feature (q, key = 'highway', -->
<!--                             value = 'trunk', value_exact = FALSE) -->
<!-- qp      <- add_osm_feature (q, key = 'highway', -->
<!--                             value = 'primary', value_exact = FALSE) -->
<!-- motorway<- osmdata_sf(qm) -->
<!-- trunk   <- osmdata_sf(qt) -->
<!-- primary <- osmdata_sf(qp) -->
<!-- roads    <- c(primary,trunk,motorway)$osm_lines |> -->
<!--   st_transform(st_crs(iris.75)) -->
<!-- roads.geom = st_geometry(roads) -->
<!-- # Récupérer le shape de la seine  -->
<!-- qr <- q |>  -->
<!--   add_osm_feature (key = 'waterway') |>  -->
<!--   add_osm_feature(key = "name:fr", value = "La Seine") -->
<!-- river <- osmdata_sf(qr) -->
<!-- river.geom <- c(st_geometry(river$osm_lines), -->
<!--                 st_geometry(river$osm_multilines)) |> -->
<!--   st_transform(st_crs(iris.75)) -->
<!-- # Export road and river layers to shapefile -->
<!-- st_write(roads|> select(name,osm_id), dsn = "data/osmdata/roadsfull.gpkg") -->
<!-- st_write(roads.geom, dsn = "data/osmdata/road.shp") -->
<!-- st_write(river.geom, dsn = "data/osmdata/river.shp") -->
<!-- ``` -->
<!-- ```{r , echo = FALSE} -->
<!-- roads <- st_read(dsn = "data/osmdata/roadsfull.gpkg", quiet = TRUE) -->
<!-- roads.geom <- st_read(dsn = "data/osmdata/road.shp", quiet = TRUE) -->
<!-- river.geom <- st_read(dsn = "data/osmdata/river.shp", quiet = TRUE) -->
<!-- ``` -->
<!-- Utilisons ces données pour habiller un peu notre carte : -->
<!-- ```{r, eval=TRUE,cache=FALSE, fig.height=4.75} -->
<!-- # bbox est utilisé pour centrer sur Paris -->
<!-- bb <- st_bbox(iris.75) -->
<!-- par(mar = c(0.2, 0.2, 1.4, 0.2), bg = "ivory") -->
<!-- plot(st_geometry(iris.75), col = "ivory", border = "ivory3",  -->
<!--      xlim = bb[c(1,3)], ylim =  bb[c(2,4)]) -->
<!-- plot(st_geometry(roads.geom), col="#666666", lwd = 1.2, add = TRUE) -->
<!-- plot(st_geometry(river.geom), col="#87cdde", lwd = 3, add = TRUE) -->
<!-- plot(st_geometry(accidents.2019.paris |> filter(grav == 3 )) , pch = 20, -->
<!--      col = "orange", add=TRUE, cex = 1) -->
<!-- plot(st_geometry(accidents.2019.paris |> filter(grav == 2)) , pch = 20, -->
<!--      col = "red", add=TRUE, cex = 1) -->
<!-- ``` -->
<!-- ## Géocodage -->
<!-- Géocoder c'est **passer d'une adresse** à une **position géographique**. En France, la [Base Adresse Nationale (BAN)](https://adresse.data.gouv.fr/) permet de faire ce travail efficacement. -->
<!-- En R, le package `banR` permet d'interroger l'API de la BAN. Ce package, non présent sur le CRAN, doit être installé via github. Il permet ensuite de géocoder une colonne d'adresses en batch, c’est-à-dire en un nombre minimal de requêtes pour éviter de saturer l’API. Il suffit de spécifier la colonne contenant les adresses, voire éventuellement une colonne contenant le code Insee de la commune du lieu, pour faciliter et préciser la requête. -->
<!-- Pour des adresses internationales, il est possible d'utiliser `tidygeocoder` qui peut interroger différentes API (gratuites ou payantes). Ce package fonctionne de manière assez similaire au précédent. -->
<!-- L’API de `banR` est plus rapide que celle de `tidygeocoder`.  -->
<!-- ```{r p1, eval=TRUE,cache=TRUE, fig.height=4.75} -->
<!-- # Avec les coordonnées présentes dans la base de données -->
<!-- geo_bdd <- accidents.2019.paris |>  -->
<!--   filter(catv %in% c("VAE", "EDP à moteur")) |> slice(1:10) -->
<!-- # Avec banR -->
<!-- # remotes::install_github("joelgombin/banR") -->
<!-- library(banR) -->
<!-- geo_banR <- accidents.2019.paris |>  -->
<!--   filter(catv %in% c("VAE", "EDP à moteur")) |> slice(1:10) |>  -->
<!--   geocode_tbl(adresse = voie,code_insee = com) |> -->
<!--   select(latitude,longitude) |> -->
<!--   st_as_sf(coords = c("longitude", "latitude"), -->
<!--            crs = 4326, agr = "constant") |> -->
<!--   st_transform(2154) -->
<!-- # Avec tidygeocoder -->
<!-- # install.packages("tidygeocoder") -->
<!-- library(tidygeocoder) -->
<!-- geo_tidygeocoder <- accidents.2019.paris |>  -->
<!--   filter(catv %in% c("VAE", "EDP à moteur")) |> slice(1:10) |> -->
<!--   mutate(addr = paste(voie, ", Paris, France")) |>   -->
<!--   geocode(addr,method = "osm") |> select(lat, long) |> -->
<!--   st_as_sf(coords = c("long", "lat"),crs = 4326, agr = "constant") |> -->
<!--   st_transform(2154) -->
<!-- ## Distances et distance moyenne entre les trois types de géocodage -->
<!-- # Entre celui de la base et celui de banR -->
<!-- st_distance(geo_bdd, geo_banR, by_element = TRUE) -->
<!-- mean(st_distance(geo_bdd, geo_banR, by_element = TRUE)) -->
<!-- # Entre celui de la base et celui de tidygeocoder -->
<!-- st_distance(geo_bdd,geo_tidygeocoder, by_element = TRUE) -->
<!-- mean(st_distance(geo_bdd, geo_tidygeocoder,by_element = TRUE)) -->
<!-- # Entre celui de la banR et celui de tidygeocoder -->
<!-- st_distance(geo_banR, geo_tidygeocoder, by_element = TRUE) -->
<!-- mean(st_distance(geo_banR, geo_tidygeocoder, by_element = TRUE)) -->
<!-- ``` -->
</section>
</section>
<section id="faire-des-cartes-interactives-et-statiques" class="level1">
<h1>Faire des cartes interactives et statiques</h1>
<p>Dans cette partie, nous allons visualiser des données d’<a href="https://www.data.gouv.fr/fr/datasets/bases-de-donnees-annuelles-des-accidents-corporels-de-la-circulation-routiere-annees-de-2005-a-2019/">accidents corporels de la circulation routière</a> de 2019.</p>
<section id="section-9" class="level2">
<h2 class="anchored" data-anchor-id="section-9"></h2>
<p>Il s’agit d’un <code>data.frame</code> comportant notamment deux colonnes renseignant sur la latitude et longitude des accidents de la route.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>accidents.<span class="fl">2019.</span>paris <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/accidents2019_paris.RDS"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(accidents.<span class="fl">2019.</span>paris)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 13
     Num_Acc id_vehicule  grav sexe  an_nais   lat  long com   int   lum   voie 
       &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;fct&gt; &lt;fct&gt; &lt;chr&gt;
1    2.02e11 138&nbsp;305&nbsp;660     1 Fémi…    1983  48.9  2.28 75117 Inte… Nuit… BD P…
2    2.02e11 138&nbsp;305&nbsp;661     4 Masc…    1975  48.9  2.28 75117 Inte… Nuit… BD P…
3    2.02e11 138&nbsp;305&nbsp;658     4 Fémi…    1988  48.8  2.41 75120 Inte… Nuit… COUR…
4    2.02e11 138&nbsp;305&nbsp;658     1 Masc…    1991  48.8  2.41 75120 Inte… Nuit… COUR…
5    2.02e11 138&nbsp;305&nbsp;658     4 Masc…    1987  48.8  2.41 75120 Inte… Nuit… COUR…
6    2.02e11 138&nbsp;305&nbsp;659     1 Masc…    1996  48.8  2.41 75120 Inte… Nuit… COUR…
# ℹ 2 more variables: catr &lt;fct&gt;, catv &lt;fct&gt;</code></pre>
</div>
</div>
</section>
<section id="section-10" class="level2">
<h2 class="anchored" data-anchor-id="section-10"></h2>
<p>Il faut convertir ce <code>data.frame</code> en objet spatial (<code>sf</code>) grâce à la fonction <code>st_as_sf</code>. Il suffit de spécifier le nom des colonnes contenant les coordonnées ainsi que la projection, ici <code>CRS = 4326</code> (WGS 84). On transforme ensuite ces données en <code>CRS = 2154</code> (Lambert 93).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>accidents.<span class="fl">2019.</span>paris <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(accidents.<span class="fl">2019.</span>paris,</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>                                <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"long"</span>, <span class="st">"lat"</span>),</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>                                <span class="at">crs =</span> <span class="dv">4326</span>) <span class="sc">|&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">2154</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-11" class="level2">
<h2 class="anchored" data-anchor-id="section-11"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(accidents.<span class="fl">2019.</span>paris))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="cartes-interactives" class="level2">
<h2 class="anchored" data-anchor-id="cartes-interactives">Cartes interactives</h2>
<p>Plusieurs solutions existent pour faire des cartes interactives avec R. <code>mapview</code>, <code>leaflet</code> et <code>mapdeck</code> sont les principales. Par simplicité, nous nous concentrons ici sur <code>mapview</code>.</p>
<p>Les cartes interactives ne sont pas forcément très pertinentes pour représenter des informations géostatistiques. En revanche, elles sont utiles pour explorer les bases de données. Voyons un exemple avec <code>mapview</code> concernant les accidents mortels à Paris en 2019.</p>
</section>
<section id="section-12" class="level2">
<h2 class="anchored" data-anchor-id="section-12"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mapview)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>individus_tues <span class="ot">&lt;-</span> accidents.<span class="fl">2019.</span>paris <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(grav <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> <span class="co"># grav = 2 : individus tués</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age=</span><span class="dv">2019</span><span class="sc">-</span>an_nais) <span class="co"># age</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mapview</span>(individus_tues)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-315b799789cef3e4f89f" style="width:100%;height:386px;" class="leaflet html-widget "></div>
<script type="application/json" data-for="htmlwidget-315b799789cef3e4f89f">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[48.8731676,48.87056939999999,48.85038769999998,48.839221,48.87360099999999,48.88272,48.844702,48.84343789999999,48.85995,48.89877799999999,48.86369799999999,48.8656387,48.87738509999999,48.84179999999999,48.8730073,48.8343527,48.88625800000001,48.83875099999999,48.83750999999999,48.884542,48.816714,48.843353,48.89739899999999,48.8534124,48.84086799999999,48.888643,48.82831299999999,48.864097,48.867226,48.8243117,48.821314,48.87818800000002,48.86748100000001,48.88848699999998],[2.2844497,2.3728933,2.3277044,2.268618,2.328340999999999,2.389899,2.321219,2.370194300000001,2.313098000000001,2.374133,2.361084000000001,2.3725863,2.393032299999999,2.347857,2.2728126,2.4113563,2.299352,2.254358,2.256814,2.376930000000001,2.340298,2.370287000000001,2.392938000000001,2.3671821,2.452848,2.303407,2.356613,2.332362,2.265254,2.3637215,2.329944,2.296246,2.285912,2.353557],6,null,"individus_tues",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6},null,null,["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900000664&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 305 318&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1991&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE FOCH&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VAE&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>28&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900005252&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 296 632&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1985&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75110&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DU FAUBOURG DU TEMPLE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>34&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>3&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900008231&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 291 103&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1932&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75106&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE D ASSAS&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>87&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>4&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900008953&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 289 764&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1967&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75115&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>PONT DU GARIGLIANO&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>52&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>5&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900010424&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 287 064&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1999&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75109&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD HAUSSMANN&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>20&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>6&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900010832&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 286 350&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1953&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DAVID D ANGERS&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Voiturette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>66&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>7&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900011035&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 285 991&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1944&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75115&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD DU MONTPARNASSE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>75&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>8&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900011303&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 285 491&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1975&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>SOUTERRAIN QUAI DE LA RAPEE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>3RM > 125 cm3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>44&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>9&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900013642&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 281 014&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1992&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75107&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DU MARECHAL GALLIENI&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>27&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>10&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900014591&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 279 171&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1999&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE JACQUES DUCHESNE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>20&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>11&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900017104&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 274 432&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1928&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75103&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DE BRETAGNE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>PL seul 3,5T <PTCA <= 7,5T&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>91&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>12&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900022706&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 263 864&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1996&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75111&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DE LA REPUBLIQUE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>23&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>13&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900023316&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 262 649&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1938&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Place&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>PLACE DES FETES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>81&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>14&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900024924&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 259 421&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1969&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75105&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Crépuscule ou aube&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE PIERRE BROSSOLETTE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>EDP à moteur&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>50&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>15&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900025795&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 257 758&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1988&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>ROUTE DE LA PORTE DAUPHINE A LA PORTE DES SABLONS&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VU seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>31&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>16&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900025802&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 257 749&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1937&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD DE LA GUYANE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>82&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>17&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900028612&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 252 515&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1949&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75117&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD PEREIRE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 50 cm 3 et <= 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>70&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>18&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900033851&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 242 580&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1969&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BD PERIPHERIQUE INTERIEUR&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>50&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>19&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900036525&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 237 427&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1980&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Place&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Crépuscule ou aube&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>PLACE DE LA PORTE DE SAINT CLOUD&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Bicyclette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>39&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>20&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900036538&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 237 405&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1997&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE JEAN JAURES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>3RM > 125 cm3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>22&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>21&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900036543&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 237 397&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1975&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75114&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BD PERIPHERIQUE INTERIEUR&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 50 cm 3 et <= 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>44&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>22&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900037664&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 235 203&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1990&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Crépuscule ou aube&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>SOUTERRAIN QUAI DE LA RAPEE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>29&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>23&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900037914&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 234 735&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1974&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DE LA CLOTURE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 50 cm 3 et <= 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>45&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>24&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900038397&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 233 910&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1932&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75104&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE SAINT ANTOINE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>87&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>25&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900038755&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 233 251&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1959&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DE NOGENT&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>60&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>26&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900039349&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 232 125&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1957&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75117&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE NICOLAS CHUQUET&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Bicyclette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>62&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>27&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900039646&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 231 574&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1980&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75113&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE D ITALIE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>PL seul > 7,5T&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>39&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>28&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900039981&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 230 922&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1964&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75101&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DES PYRAMIDES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Bicyclette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>55&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>29&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900041564&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 228 039&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1979&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>ROUTE DE LA MUETTE A NEUILLY&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>40&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>30&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900047966&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 215 880&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1929&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75113&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection à plus de 4 branches&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE D IVRY&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>90&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>31&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900051818&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 208 685&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>2010&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75114&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE EMILE FAGUET&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td> 9&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>32&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900055013&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 202 621&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1931&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75117&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DES TERNES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>88&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>33&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900055015&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 202 619&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1939&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE RAYMOND POINCARE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>80&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>34&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900055022&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 202 607&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1993&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75118&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DOUDEAUVILLE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>EDP à moteur&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>26&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[2.254358,48.816714,2.452848,48.89877799999999,true,"individus_tues","Zoom to individus_tues","<strong> individus_tues <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],"individus_tues",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["individus_tues"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"individus_tues"}]}],"limits":{"lat":[48.816714,48.89877799999999],"lng":[2.254358,2.452848]},"fitBounds":[48.816714,2.254358,48.89877799999999,2.452848,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
</div>
</section>
<section id="section-13" class="level2">
<h2 class="anchored" data-anchor-id="section-13"></h2>
<p>Quand on clique sur un point, la valeur des différentes variables de la base de données apparaissent. Cela peut aider à l’exploration de la base de données. On customise un peu…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mapview</span>(individus_tues,</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">map.types =</span> <span class="st">"Stamen.TonerLite"</span>, <span class="at">legend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex =</span> <span class="dv">5</span>, <span class="at">col.regions =</span> <span class="st">"#217844"</span>, <span class="at">lwd =</span> <span class="dv">0</span>, <span class="at">alpha =</span> <span class="fl">0.9</span>,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">layer.name =</span> <span class="st">'Individus tués'</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-e4a6dea4dc8b7d0dfbe5" style="width:100%;height:290px;" class="leaflet html-widget "></div>
<script type="application/json" data-for="htmlwidget-e4a6dea4dc8b7d0dfbe5">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Stamen.TonerLite","Stamen.TonerLite","Stamen.TonerLite",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[48.8731676,48.87056939999999,48.85038769999998,48.839221,48.87360099999999,48.88272,48.844702,48.84343789999999,48.85995,48.89877799999999,48.86369799999999,48.8656387,48.87738509999999,48.84179999999999,48.8730073,48.8343527,48.88625800000001,48.83875099999999,48.83750999999999,48.884542,48.816714,48.843353,48.89739899999999,48.8534124,48.84086799999999,48.888643,48.82831299999999,48.864097,48.867226,48.8243117,48.821314,48.87818800000002,48.86748100000001,48.88848699999998],[2.2844497,2.3728933,2.3277044,2.268618,2.328340999999999,2.389899,2.321219,2.370194300000001,2.313098000000001,2.374133,2.361084000000001,2.3725863,2.393032299999999,2.347857,2.2728126,2.4113563,2.299352,2.254358,2.256814,2.376930000000001,2.340298,2.370287000000001,2.392938000000001,2.3671821,2.452848,2.303407,2.356613,2.332362,2.265254,2.3637215,2.329944,2.296246,2.285912,2.353557],5,null,"Individus tués",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":0,"opacity":0.9,"fill":true,"fillColor":"#217844","fillOpacity":0.6},null,null,["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900000664&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 305 318&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1991&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE FOCH&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VAE&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>28&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900005252&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 296 632&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1985&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75110&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DU FAUBOURG DU TEMPLE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>34&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>3&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900008231&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 291 103&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1932&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75106&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE D ASSAS&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>87&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>4&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900008953&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 289 764&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1967&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75115&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>PONT DU GARIGLIANO&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>52&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>5&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900010424&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 287 064&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1999&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75109&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD HAUSSMANN&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>20&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>6&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900010832&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 286 350&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1953&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DAVID D ANGERS&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Voiturette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>66&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>7&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900011035&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 285 991&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1944&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75115&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD DU MONTPARNASSE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>75&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>8&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900011303&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 285 491&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1975&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>SOUTERRAIN QUAI DE LA RAPEE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>3RM > 125 cm3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>44&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>9&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900013642&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 281 014&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1992&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75107&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DU MARECHAL GALLIENI&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>27&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>10&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900014591&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 279 171&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1999&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE JACQUES DUCHESNE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>20&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>11&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900017104&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 274 432&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1928&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75103&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DE BRETAGNE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>PL seul 3,5T <PTCA <= 7,5T&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>91&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>12&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900022706&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 263 864&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1996&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75111&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DE LA REPUBLIQUE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>23&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>13&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900023316&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 262 649&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1938&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Place&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>PLACE DES FETES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>81&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>14&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900024924&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 259 421&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1969&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75105&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Crépuscule ou aube&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE PIERRE BROSSOLETTE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>EDP à moteur&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>50&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>15&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900025795&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 257 758&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1988&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>ROUTE DE LA PORTE DAUPHINE A LA PORTE DES SABLONS&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VU seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>31&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>16&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900025802&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 257 749&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1937&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD DE LA GUYANE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>82&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>17&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900028612&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 252 515&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1949&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75117&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD PEREIRE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 50 cm 3 et <= 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>70&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>18&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900033851&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 242 580&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1969&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BD PERIPHERIQUE INTERIEUR&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>50&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>19&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900036525&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 237 427&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1980&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Place&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Crépuscule ou aube&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>PLACE DE LA PORTE DE SAINT CLOUD&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Bicyclette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>39&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>20&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900036538&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 237 405&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1997&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE JEAN JAURES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>3RM > 125 cm3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>22&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>21&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900036543&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 237 397&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1975&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75114&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BD PERIPHERIQUE INTERIEUR&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 50 cm 3 et <= 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>44&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>22&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900037664&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 235 203&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1990&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Crépuscule ou aube&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>SOUTERRAIN QUAI DE LA RAPEE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>29&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>23&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900037914&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 234 735&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1974&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DE LA CLOTURE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 50 cm 3 et <= 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>45&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>24&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900038397&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 233 910&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1932&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75104&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE SAINT ANTOINE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>87&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>25&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900038755&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 233 251&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1959&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DE NOGENT&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>60&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>26&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900039349&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 232 125&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1957&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75117&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE NICOLAS CHUQUET&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Bicyclette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>62&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>27&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900039646&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 231 574&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1980&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75113&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE D ITALIE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>PL seul > 7,5T&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>39&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>28&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900039981&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 230 922&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1964&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75101&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DES PYRAMIDES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Bicyclette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>55&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>29&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900041564&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 228 039&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1979&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>ROUTE DE LA MUETTE A NEUILLY&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>40&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>30&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900047966&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 215 880&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1929&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75113&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection à plus de 4 branches&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE D IVRY&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>90&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>31&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900051818&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 208 685&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>2010&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75114&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE EMILE FAGUET&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td> 9&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>32&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900055013&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 202 621&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1931&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75117&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DES TERNES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>88&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>33&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900055015&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 202 619&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1939&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE RAYMOND POINCARE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>80&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>34&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900055022&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 202 607&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1993&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75118&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DOUDEAUVILLE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>EDP à moteur&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>26&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[2.254358,48.816714,2.452848,48.89877799999999,true,"Individus tués","Zoom to Individus tués","<strong> Individus tués <\/strong>","bottomright"]},{"method":"addLayersControl","args":["Stamen.TonerLite","Individus tués",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#217844"],"labels":["Individus tués"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"Individus tués"}]}],"limits":{"lat":[48.816714,48.89877799999999],"lng":[2.254358,2.452848]},"fitBounds":[48.816714,2.254358,48.89877799999999,2.452848,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
</div>
</section>
<section id="section-14" class="level2">
<h2 class="anchored" data-anchor-id="section-14"></h2>
<p>On customise encore un peu plus…</p>
<p>Toutefois, ajouter une légende pour la taille des ronds proportionnels ne se fait pas facilement.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mapview</span>(individus_tues,</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">map.types =</span> <span class="st">"Stamen.TonerLite"</span>, <span class="at">legend=</span><span class="cn">TRUE</span>,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">layer.name =</span> <span class="st">'Individus tués'</span>,</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex=</span><span class="st">"age"</span>, <span class="at">zcol=</span><span class="st">"sexe"</span>, <span class="at">lwd=</span><span class="dv">0</span>, <span class="at">alpha=</span><span class="fl">0.9</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>       )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-730f0e8140ffc2f7c865" style="width:100%;height:290px;" class="leaflet html-widget "></div>
<script type="application/json" data-for="htmlwidget-730f0e8140ffc2f7c865">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Stamen.TonerLite","Stamen.TonerLite","Stamen.TonerLite",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[48.8731676,48.87056939999999,48.85038769999998,48.839221,48.87360099999999,48.88272,48.844702,48.84343789999999,48.85995,48.89877799999999,48.86369799999999,48.8656387,48.87738509999999,48.84179999999999,48.8730073,48.8343527,48.88625800000001,48.83875099999999,48.83750999999999,48.884542,48.816714,48.843353,48.89739899999999,48.8534124,48.84086799999999,48.888643,48.82831299999999,48.864097,48.867226,48.8243117,48.821314,48.87818800000002,48.86748100000001,48.88848699999998],[2.2844497,2.3728933,2.3277044,2.268618,2.328340999999999,2.389899,2.321219,2.370194300000001,2.313098000000001,2.374133,2.361084000000001,2.3725863,2.393032299999999,2.347857,2.2728126,2.4113563,2.299352,2.254358,2.256814,2.376930000000001,2.340298,2.370287000000001,2.392938000000001,2.3671821,2.452848,2.303407,2.356613,2.332362,2.265254,2.3637215,2.329944,2.296246,2.285912,2.353557],[5.780487804878049,6.658536585365853,14.41463414634146,9.292682926829269,4.609756097560975,11.34146341463414,12.65853658536586,8.121951219512194,5.634146341463415,4.609756097560975,15,5.048780487804878,13.53658536585366,9,6.219512195121951,13.68292682926829,11.92682926829268,9,7.390243902439025,4.902439024390244,8.121951219512194,5.926829268292683,8.26829268292683,14.41463414634146,10.46341463414634,10.75609756097561,7.390243902439025,9.731707317073171,7.536585365853659,14.85365853658537,3,14.5609756097561,13.39024390243902,5.487804878048781],null,"Individus tués",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":0,"opacity":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"fill":true,"fillColor":["#4B0055","#4B0055","#FDE333","#4B0055","#FDE333","#4B0055","#FDE333","#4B0055","#FDE333","#4B0055","#4B0055","#4B0055","#4B0055","#4B0055","#4B0055","#4B0055","#FDE333","#4B0055","#4B0055","#4B0055","#4B0055","#4B0055","#4B0055","#FDE333","#4B0055","#4B0055","#4B0055","#4B0055","#4B0055","#FDE333","#4B0055","#4B0055","#FDE333","#4B0055"],"fillOpacity":[0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6]},null,null,["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900000664&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 305 318&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1991&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE FOCH&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VAE&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>28&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900005252&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 296 632&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1985&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75110&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DU FAUBOURG DU TEMPLE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>34&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>3&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900008231&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 291 103&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1932&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75106&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE D ASSAS&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>87&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>4&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900008953&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 289 764&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1967&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75115&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>PONT DU GARIGLIANO&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>52&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>5&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900010424&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 287 064&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1999&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75109&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD HAUSSMANN&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>20&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>6&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900010832&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 286 350&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1953&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DAVID D ANGERS&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Voiturette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>66&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>7&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900011035&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 285 991&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1944&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75115&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD DU MONTPARNASSE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>75&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>8&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900011303&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 285 491&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1975&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>SOUTERRAIN QUAI DE LA RAPEE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>3RM > 125 cm3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>44&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>9&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900013642&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 281 014&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1992&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75107&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DU MARECHAL GALLIENI&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>27&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>10&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900014591&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 279 171&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1999&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE JACQUES DUCHESNE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>20&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>11&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900017104&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 274 432&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1928&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75103&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DE BRETAGNE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>PL seul 3,5T <PTCA <= 7,5T&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>91&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>12&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900022706&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 263 864&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1996&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75111&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DE LA REPUBLIQUE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>23&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>13&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900023316&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 262 649&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1938&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Place&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>PLACE DES FETES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>81&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>14&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900024924&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 259 421&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1969&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75105&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Crépuscule ou aube&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE PIERRE BROSSOLETTE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>EDP à moteur&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>50&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>15&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900025795&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 257 758&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1988&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>ROUTE DE LA PORTE DAUPHINE A LA PORTE DES SABLONS&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VU seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>31&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>16&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900025802&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 257 749&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1937&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD DE LA GUYANE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>82&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>17&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900028612&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 252 515&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1949&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75117&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BOULEVARD PEREIRE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 50 cm 3 et <= 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>70&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>18&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900033851&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 242 580&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1969&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BD PERIPHERIQUE INTERIEUR&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>50&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>19&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900036525&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 237 427&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1980&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Place&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Crépuscule ou aube&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>PLACE DE LA PORTE DE SAINT CLOUD&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Bicyclette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>39&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>20&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900036538&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 237 405&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1997&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE JEAN JAURES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>3RM > 125 cm3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>22&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>21&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900036543&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 237 397&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1975&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75114&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>BD PERIPHERIQUE INTERIEUR&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 50 cm 3 et <= 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>44&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>22&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900037664&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 235 203&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1990&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Crépuscule ou aube&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>SOUTERRAIN QUAI DE LA RAPEE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>29&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>23&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900037914&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 234 735&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1974&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75119&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DE LA CLOTURE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Scooter > 50 cm 3 et <= 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>45&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>24&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900038397&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 233 910&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1932&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75104&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en T&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE SAINT ANTOINE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Autobus&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>87&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>25&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900038755&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 233 251&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1959&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75112&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DE NOGENT&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>60&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>26&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900039349&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 232 125&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1957&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75117&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE NICOLAS CHUQUET&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Bicyclette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>62&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>27&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900039646&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 231 574&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1980&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75113&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en Y&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE D ITALIE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>PL seul > 7,5T&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>39&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>28&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900039981&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 230 922&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1964&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75101&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DES PYRAMIDES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Bicyclette&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>55&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>29&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900041564&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 228 039&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1979&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>ROUTE DE LA MUETTE A NEUILLY&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>Motocyclette > 125 cm 3&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>40&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>30&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900047966&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 215 880&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1929&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75113&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection à plus de 4 branches&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE D IVRY&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>90&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>31&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900051818&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 208 685&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>2010&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75114&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE EMILE FAGUET&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td> 9&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>32&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900055013&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 202 621&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1931&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75117&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE DES TERNES&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>88&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>33&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900055015&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 202 619&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Féminin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1939&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75116&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Hors intersection&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Plein jour&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>AVENUE RAYMOND POINCARE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>VL seul&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>80&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>34&emsp;<\/td><\/tr><tr><td>1<\/td><th>Num_Acc&emsp;<\/th><td>201900055022&emsp;<\/td><\/tr><tr><td>2<\/td><th>id_vehicule&emsp;<\/th><td>138 202 607&emsp;<\/td><\/tr><tr><td>3<\/td><th>grav&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>4<\/td><th>sexe&emsp;<\/th><td>Masculin&emsp;<\/td><\/tr><tr><td>5<\/td><th>an_nais&emsp;<\/th><td>1993&emsp;<\/td><\/tr><tr><td>6<\/td><th>com&emsp;<\/th><td>75118&emsp;<\/td><\/tr><tr><td>7<\/td><th>int&emsp;<\/th><td>Intersection en X&emsp;<\/td><\/tr><tr><td>8<\/td><th>lum&emsp;<\/th><td>Nuit avec éclairage public allumé&emsp;<\/td><\/tr><tr><td>9<\/td><th>voie&emsp;<\/th><td>RUE DOUDEAUVILLE&emsp;<\/td><\/tr><tr><td>10<\/td><th>catr&emsp;<\/th><td>Voie Communales&emsp;<\/td><\/tr><tr><td>11<\/td><th>catv&emsp;<\/th><td>EDP à moteur&emsp;<\/td><\/tr><tr><td>12<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>13<\/td><th>age&emsp;<\/th><td>26&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["Masculin","Masculin","Féminin","Masculin","Féminin","Masculin","Féminin","Masculin","Féminin","Masculin","Masculin","Masculin","Masculin","Masculin","Masculin","Masculin","Féminin","Masculin","Masculin","Masculin","Masculin","Masculin","Masculin","Féminin","Masculin","Masculin","Masculin","Masculin","Masculin","Féminin","Masculin","Masculin","Féminin","Masculin"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[2.254358,48.816714,2.452848,48.89877799999999,true,"Individus tués","Zoom to Individus tués","<strong> Individus tués <\/strong>","bottomright"]},{"method":"addLayersControl","args":["Stamen.TonerLite","Individus tués",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#4B0055","#FDE333"],"labels":["Masculin","Féminin"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"Individus tués","extra":null,"layerId":null,"className":"info legend","group":"Individus tués"}]}],"limits":{"lat":[48.816714,48.89877799999999],"lng":[2.254358,2.452848]},"fitBounds":[48.816714,2.254358,48.89877799999999,2.452848,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
</div>
</section>
<section id="cartes-statiques-avec-ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="cartes-statiques-avec-ggplot2">Cartes statiques avec <code>ggplot2</code></h2>
<p>Là encore, différents packages R sont utilisés pour faire des cartes statiques :</p>
<ul>
<li><code>ggplot2</code> est un package très utilisé pour faire tous types de graphiques, et a été adapté spécifiquement aux cartes (<code>geom_sf</code>).</li>
<li>Le package <code>tmap</code> contient des fonctionnalités avancées basées sur la logique de <code>ggplot2</code></li>
<li><code>mapsf</code> (successeur de <code>cartography</code>) s’appuie sur un langage dit “base R” et permet de faire des représentations cartographiques, basiques comme avancées.</li>
</ul>
</section>
<section id="section-15" class="level2">
<h2 class="anchored" data-anchor-id="section-15"></h2>
<p>Par simplicité, nous nous concentrons ici sur <code>ggplot2</code>, package très renommé pour tous types de graphiques.</p>
</section>
<section id="la-grammaire-des-graphiques" class="level2">
<h2 class="anchored" data-anchor-id="la-grammaire-des-graphiques">La grammaire des graphiques</h2>
<ul>
<li>Wilkinson, L., Anand, A., &amp; Grossman, R. (2005). Graph-theoretic scagnostics. In Information Visualization, IEEE Symposium on (pp.&nbsp;21-21). IEEE Computer Society.</li>
<li>Repris par Wickham, H. (2010). A layered grammar of graphics. Journal of Computational and Graphical Statistics, 19(1), 3-28. Et implémenté dans <code>ggplot2</code></li>
<li>grammaire → même type de construction / philosophie pour tous les types de graphiques</li>
</ul>
</section>
<section id="section-16" class="level2">
<h2 class="anchored" data-anchor-id="section-16"></h2>
<section id="composantes-de-la-grammaire" class="level3">
<h3 class="anchored" data-anchor-id="composantes-de-la-grammaire">Composantes de la grammaire</h3>
<ul>
<li>données et caractères esthétiques (<em>aes</em>)</li>
</ul>
<p><em>Ex : f(data) → x position, y position, size, shape, color</em></p>
<ul>
<li>Objets géométriques</li>
</ul>
<p><em>Ex : points, lines, bars, texts </em></p>
<ul>
<li>échelles (<em>scales</em>)</li>
</ul>
<p><em>Ex : f([0, 100]) → [0, 5] px</em></p>
</section>
</section>
<section id="section-17" class="level2">
<h2 class="anchored" data-anchor-id="section-17"></h2>
<ul>
<li>Spécification des composantes (<em>facet</em>)</li>
</ul>
<p><em>Ex : Segmentation des données suivant un ou plusieurs facteurs</em></p>
<ul>
<li>Transformation statistique</li>
</ul>
<p><em>Ex : moyenne, comptage, régression…</em></p>
<ul>
<li>Le système de coordonnées</li>
</ul>
<!-- ### Création d'un graphique : -->
<!-- - Ajouts successif de calques (*layers*) ... -->
<!-- - ... Définissant un *mapping* des données vers leurs représentations -->
<!-- - (+ optionnel) définition des transformations statistique s -->
<!-- - (+ optionnel) définition des échelles -->
<!-- - (+ optionnel) gestion du thème, des titres ... -->
<!-- &#8594; Données toujours sous forme de `data.frame` bien formatées (appelées `tibble`). -->
<!-- Exemple d'un **diagramme en barres** du nombre de personnes accidentées selon le type de véhicule impliqué... -->
<!-- ```{r, fig.height=4.75, cache=FALSE} -->
<!-- library(ggplot2) -->
<!-- ggplot(accidents.2019.paris) + -->
<!--   geom_bar(aes(x = catv,group = sexe,fill = sexe)) -->
<!-- ``` -->
<!-- ... Qui mérite quelques ajustements pour devenir plus lisible : -->
<!-- - passage en horizontal -->
<!-- - trié selon le nombre de personnes accidentées -->
<!-- - ne conserver que les types d'accidents les plus courants -->
<!-- - changement des couleurs des facteurs -->
<!-- - changement du thème, titre, sous-titre, note, légende... -->
<!-- ```{r, fig.height=4.75, cache=FALSE} -->
<!-- catv_ol <- accidents.2019.paris |> st_drop_geometry |>  -->
<!--   count(catv) |> arrange(n) |> pull(catv) -->
<!-- gg <- accidents.2019.paris |>  -->
<!--   mutate(catv_o = factor(catv,levels = catv_ol)) |> -->
<!--   filter(catv_o %in% tail(catv_ol, 10)) -->
<!-- ggplot()+geom_bar(data = gg,aes(y = catv_o, group = sexe, fill = sexe))+ -->
<!--   scale_fill_brewer("Sexe", palette = "Set1")+ -->
<!--   theme_bw()+ -->
<!--   labs(title = "Nombre d'accidentés par type de véhicule et sexe", -->
<!--        subtitle = "à Paris en 2019, pour les hommes et les femmes ", -->
<!--        caption = "fichier BAAC 2019, ONISR\nantuki & comeetie, 2023", -->
<!--        x = "", y = "") -->
<!-- ``` -->
<!-- Un graphique plus exotique : -->
<!-- ```{r, fig.height=4.75, cache=FALSE} -->
<!-- gg = accidents.2019.paris |>  -->
<!--   st_drop_geometry |>  -->
<!--   filter(catv %in% tail(catv_ol,9)) |>  -->
<!--   count(catv,lum,sexe) |>  -->
<!--   add_count(catv,wt=n,name="tot") |>  -->
<!--   mutate(prop = n/tot) -->
<!-- ggplot(gg)+geom_point(aes(y = lum, x = sexe, color = prop, size = prop))+ -->
<!--   facet_wrap(~catv)+ -->
<!--   scale_color_distiller(palette = "Reds", direction = 1)+ -->
<!--   labs(title = "Part d'accidentés par type de véhicule et éclairage", -->
<!--        subtitle = "à Paris en 2019. ", -->
<!--        caption = "fichier BAAC 2019, ONISR\nantuki & comeetie, 2023", -->
<!--        x = "", y = "") -->
<!-- ``` -->
<!-- Ou bien encore... -->
<!-- ```{r, fig.height=4.75, cache=FALSE} -->
<!-- library(tidyr) -->
<!-- catv_sel = c("Bicyclette", "VL seul", "VAE", "VU seul", -->
<!--              "EDP à moteur", "Scooter < 50 cm3") -->
<!-- gg <- accidents.2019.paris |>  -->
<!--   st_drop_geometry |>  -->
<!--   filter(catv %in% catv_sel) |>  -->
<!--   count(catv,sexe) |> pivot_wider(names_from = "sexe",values_from="n") -->
<!-- ggplot(gg)+ -->
<!--   geom_segment(aes(x = "Homme", -->
<!--                    y = `Masculin`, -->
<!--                    xend = "Femme", -->
<!--                    yend = `Féminin`, -->
<!--                    color = catv))+ -->
<!--   geom_text(data=gg |> filter(catv!="Scooter < 50 cm3"), -->
<!--             aes(x = "Homme", -->
<!--                 y = `Masculin`, -->
<!--                 label = catv, -->
<!--                 color = catv),hjust="left") + -->
<!--   geom_text(data=gg |> filter(catv!="VU seul"), -->
<!--             aes(x = "Femme", -->
<!--                 y = `Féminin`, -->
<!--                 label = catv, -->
<!--                 color=catv),hjust="right") + -->
<!--   scale_color_discrete(guide ="none") +  -->
<!--   theme_bw()+ -->
<!--   labs(title = "Nombre d'accidentés suivant le sexe et le type de véhicule",  -->
<!--        subtitle = "à Paris en 2019", -->
<!--        caption = "fichier BAAC 2019, ONISR\nantuki & comeetie, 2023", -->
<!--        x = "", y = "") -->
<!-- ``` -->
</section>
<section id="intégrer-des-données-spatiales-avec-geom_sf" class="level2">
<h2 class="anchored" data-anchor-id="intégrer-des-données-spatiales-avec-geom_sf">Intégrer des données spatiales avec <code>geom_sf</code></h2>
<p>Petite introduction / rappel de sémiologie graphique :</p>
<p><img src="img/lightsemio.png" alt="Light Semiology" height="400px"></p>
</section>
<section id="section-18" class="level2">
<h2 class="anchored" data-anchor-id="section-18"></h2>
<p>On travaille avec la couche cartographique des IRIS<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>iris<span class="fl">.75</span> <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">"data/iris_75.shp"</span>, <span class="at">stringsAsFactors =</span> F)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `iris_75' from data source 
  `/Users/runner/work/RR2023_tuto_statspatiale/RR2023_tuto_statspatiale/lecture/data/iris_75.shp' 
  using driver `ESRI Shapefile'
Simple feature collection with 992 features and 2 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 643075.6 ymin: 6857477 xmax: 661086.2 ymax: 6867081
Projected CRS: RGF93 v1 / Lambert-93</code></pre>
</div>
</div>
</section>
<section id="section-19" class="level2">
<h2 class="anchored" data-anchor-id="section-19"></h2>
<p>Comptons par iris le nombre de personnes accidentées (<code>nbacc</code>) ;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>acc_iris <span class="ot">&lt;-</span> iris<span class="fl">.75</span> <span class="sc">|&gt;</span> <span class="fu">st_join</span>(accidents.<span class="fl">2019.</span>paris) <span class="sc">|&gt;</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(CODE_IRIS) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">nb_acc =</span> <span class="fu">n</span>(),</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">nb_acc_grav =</span> <span class="fu">sum</span>(<span class="fu">if_else</span>(grav<span class="sc">%in%</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>), <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">nb_vl =</span> <span class="fu">sum</span>(<span class="fu">if_else</span>(catv <span class="sc">==</span> <span class="st">"VL seul"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">nb_edp =</span> <span class="fu">sum</span>(<span class="fu">if_else</span>(catv <span class="sc">==</span> <span class="st">"EDP à moteur"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>                         <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">nb_velo =</span> <span class="fu">sum</span>(<span class="fu">if_else</span>(catv <span class="sc">==</span> <span class="st">"Bicyclette"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>                          <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>            ) </span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(acc_iris,<span class="dv">1</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 1 feature and 6 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 651771.6 ymin: 6862103 xmax: 652179 ymax: 6862406
Projected CRS: RGF93 v1 / Lambert-93
# A tibble: 1 × 7
  CODE_IRIS nb_acc nb_acc_grav nb_vl nb_edp nb_velo                     geometry
  &lt;chr&gt;      &lt;int&gt;       &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;           &lt;MULTIPOLYGON [m]&gt;
1 751010101     27           1    11      1       4 (((652130.3 6862122, 652126…</code></pre>
</div>
</div>
</section>
<section id="section-20" class="level2">
<h2 class="anchored" data-anchor-id="section-20"></h2>
<section id="cartes-avec-ronds-proportionnels" class="level3">
<h3 class="anchored" data-anchor-id="cartes-avec-ronds-proportionnels">Cartes avec ronds proportionnels</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> acc_iris, <span class="at">colour =</span> <span class="st">"ivory3"</span>, <span class="at">fill =</span> <span class="st">"ivory"</span>) <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> acc_iris <span class="sc">|&gt;</span>  <span class="fu">st_centroid</span>(),</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">size=</span> nb_acc), <span class="at">colour=</span><span class="st">"#E84923CC"</span>, <span class="at">show.legend =</span> <span class="st">'point'</span>) <span class="sc">+</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">name =</span> <span class="st">"Nombre d'accidents"</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">100</span>,<span class="dv">200</span>),</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">range =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">2154</span>, <span class="at">datum =</span> <span class="cn">NA</span>,</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">xlim =</span> <span class="fu">st_bbox</span>(iris<span class="fl">.75</span>)[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)],</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">ylim =</span> <span class="fu">st_bbox</span>(iris<span class="fl">.75</span>)[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)]) <span class="sc">+</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"ivory"</span>,<span class="at">color=</span><span class="cn">NA</span>),</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"ivory"</span>,<span class="at">color=</span><span class="cn">NA</span>),<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Nombre d'accidents de la route à Paris par iris"</span>,</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"fichier BAAC 2019, ONISR</span><span class="sc">\n</span><span class="st">antuki &amp; comeetie, 2023"</span>,<span class="at">x=</span><span class="st">""</span>,<span class="at">y=</span><span class="st">""</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: st_centroid assumes attributes are constant over geometries</code></pre>
</div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="section-21" class="level2">
<h2 class="anchored" data-anchor-id="section-21"></h2>
<section id="cartes-choroplèthes" class="level3">
<h3 class="anchored" data-anchor-id="cartes-choroplèthes">Cartes choroplèthes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer) <span class="co">#pour les couleurs des palettes</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Quintiles de la part des accidents ayant eu lieu à vélo</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>perc_velo <span class="ot">=</span> <span class="dv">100</span><span class="sc">*</span>acc_iris<span class="sc">$</span>nb_velo<span class="sc">/</span>acc_iris<span class="sc">$</span>nb_acc</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>bks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fu">round</span>(<span class="fu">quantile</span>(perc_velo[perc_velo<span class="sc">!=</span><span class="dv">0</span>],<span class="at">na.rm=</span><span class="cn">TRUE</span>,<span class="at">probs=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.25</span>)),<span class="dv">1</span>))</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Intégration dans la base de données</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>acc_iris <span class="ot">&lt;-</span> acc_iris <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">txaccvelo =</span> <span class="dv">100</span><span class="sc">*</span>nb_velo<span class="sc">/</span>nb_acc,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">txaccvelo_cat =</span> <span class="fu">cut</span>(txaccvelo,bks,<span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Carte</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> iris<span class="fl">.75</span>,<span class="at">colour =</span> <span class="st">"ivory3"</span>,<span class="at">fill =</span> <span class="st">"ivory"</span>) <span class="sc">+</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> acc_iris, <span class="fu">aes</span>(<span class="at">fill =</span> txaccvelo_cat)) <span class="sc">+</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">name =</span> <span class="st">"Part (En %)"</span>,</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>                    <span class="at">palette =</span> <span class="st">"Reds"</span>,</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>                    <span class="at">na.value =</span> <span class="st">"grey80"</span>) <span class="sc">+</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">2154</span>, <span class="at">datum =</span> <span class="cn">NA</span>,</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">xlim =</span> <span class="fu">st_bbox</span>(iris<span class="fl">.75</span>)[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)],</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">ylim =</span> <span class="fu">st_bbox</span>(iris<span class="fl">.75</span>)[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)]) <span class="sc">+</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"ivory"</span>,<span class="at">color=</span><span class="cn">NA</span>),</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"ivory"</span>,<span class="at">color=</span><span class="cn">NA</span>),<span class="at">legend.position=</span><span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Part des accidentés à vélos"</span>,</span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"par arrondissement à Paris en 2019"</span>,</span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"fichier BAAC 2019, ONISR</span><span class="sc">\n</span><span class="st">antuki &amp; comeetie, 2023"</span>,</span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">""</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="carte-avec-mapsf" class="level2">
<h2 class="anchored" data-anchor-id="carte-avec-mapsf">Carte avec <code>mapsf</code></h2>
<p>Ci-dessous un exemple de carte similaire réalisée avec la syntaxe de la librairie <code>mapsf</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mapsf)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_theme</span>(<span class="st">"default"</span>,<span class="at">cex=</span><span class="fl">0.9</span>,<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="fl">1.2</span>,<span class="dv">0</span>),<span class="at">bg=</span><span class="st">"ivory"</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_init</span>(<span class="at">x =</span> acc_iris, <span class="at">expandBB =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, .<span class="dv">15</span>)) </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(acc_iris,<span class="at">add =</span> <span class="cn">TRUE</span>,<span class="at">col =</span> <span class="st">"ivory2"</span>)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot symbols with choropleth coloration</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> acc_iris <span class="sc">|&gt;</span>  <span class="fu">st_centroid</span>(),</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> <span class="fu">c</span>(<span class="st">"nb_acc"</span>, <span class="st">"txaccvelo"</span>),</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"prop_choro"</span>,</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">border =</span> <span class="st">"grey50"</span>,</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">lwd =</span> <span class="fl">0.1</span>,</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_pos =</span> <span class="fu">c</span>(<span class="st">"topright"</span>,<span class="st">"right"</span>),</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span> <span class="fu">c</span>(<span class="st">"Nombre d'accidents"</span>, <span class="st">"Part des accidentés à vélo"</span>),</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">8</span>,<span class="dv">15</span>,<span class="dv">25</span>,<span class="dv">100</span>),</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">nbreaks =</span> <span class="dv">5</span>,</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">inches=</span> <span class="fl">0.16</span>,</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="st">"Reds"</span>,</span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_val_rnd =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_frame =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_layout</span>(</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Nombre d'accidents de la route et proportion d'accidents impliquant des vélos"</span>,</span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">credits =</span> <span class="st">"fichier BAAC 2019, ONISR</span><span class="sc">\n</span><span class="st">antuki &amp; comeetie, 2023"</span>,</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">frame =</span> <span class="cn">TRUE</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<!-- # Un exemple de traitement géomatique avancé -->
<!-- L'objectif de ce traitement est de compter le nombre d'accidents par tronçons de 100m sur le périphérique parisien. -->
<!-- Pour commencer, nous allons extraire des données OSM le squelette du périphérique. Pour ce faire nous allons filtrer le data.frame `roads` à partir d'une liste de noms. Nous aurions pu nous servir d'une petite carte interactive pour trouver cette sélection. -->
<!-- ```{r} -->
<!-- library(dplyr) -->
<!-- library(sf) -->
<!-- library(tidygraph) # equivalent dplyr pour les graphes -->
<!-- library(sfnetworks) # sf + graphes -->
<!-- library(ggplot2) -->
<!-- # A partir de roads, on garde les routes qui correspondent au périphérique -->
<!-- periph_simple <- roads |>  -->
<!--   filter(!is.na(name))|>  -->
<!--   filter(name %in% c("Boulevard Périphérique Intérieur", "Pont Masséna", -->
<!--                      "Tunnel Lilas","Pont Amont","Pont Aval")) |>  -->
<!--   select(name) -->
<!-- plot(periph_simple |> st_geometry(), -->
<!--      col=1:nrow(periph_simple),lwd=4) -->
<!-- ``` -->
<!-- C'est un bon début, mais il reste un certains nombre de problèmes : -->
<!-- - Les lignes extraites ne font pas 100m ; -->
<!-- - Il reste les deux voies parallèles au niveau des tunnels -->
<!-- Pour résoudre ces problèmes, nous allons nous servir de la librairie `sfnetwork`. Elle permet de marier des objets `sf` avec une description de leur topologie sous forme de graphe et elle s'appuie pour cela sur la librairie `tidygraph`. Cette description va nous être bien utile pour fusionner toute les lignes qui se touchent en une grande ligne. Commençons par transformer notre data.frame de lignes en un réseau spatial : -->
<!-- ```{r} -->
<!-- # sfnetwork permet de gérer les réseaux géospatiaux. -->
<!-- # On transforme periph_simple en ce type d'objet -->
<!-- net  = as_sfnetwork(st_geometry(periph_simple)) -->
<!-- plot(net) -->
<!-- ``` -->
<!-- Nous allons maintenant pouvoir supprimer de ce réseau les noeuds inutiles i.e. ceux qui n'ont que deux voisins : -->
<!-- ```{r} -->
<!-- # to_spatial_smooth : on enlève les pseudos-noeuds en  -->
<!-- # préservant la connectivité du réseau -->
<!-- nets = convert(net,to_spatial_smooth) -->
<!-- plot(nets) -->
<!-- ``` -->
<!-- Cela commence à ressembler à quelque chose. Mais il reste encore quelques liens isolés : -->
<!-- ```{r} -->
<!-- plot(nets  |>  -->
<!--        activate(edges) |> -->
<!--        filter(st_length(x)<units::as_units(1000,"m")) -->
<!--      ) -->
<!-- ``` -->
<!-- Pour les supprimer, nous allons calculer la longueur de chaque lien et ne conserver que ceux qui nous permettent de construire une voie continue autour du périphérique : -->
<!-- ```{r} -->
<!-- # On calcule la longueur des edges, on trie par ordre décroissant -->
<!-- nets = nets |>  -->
<!--   activate(edges) |> #on travaille sur les liens (et non les noeuds) -->
<!--   mutate(length=st_length(x)) |>  -->
<!--   arrange(desc(length)) |>  -->
<!--   mutate(lid=1:n()) |>  -->
<!--   filter(lid %in% c(1,2,3,5)) #je ne garde que les grands accès -->
<!-- nets = nets |>  -->
<!--   activate(nodes) |>  -->
<!--   mutate(deg=centrality_degree()) |>  -->
<!--   filter(deg!=0) -->
<!-- nets -->
<!-- plot(nets) -->
<!-- ``` -->
<!-- Nous pouvons maintenant récupérer uniquement la géométrie des liens du réseau, et construire une ligne unique couvrant tout le périphérique : -->
<!-- ```{r} -->
<!-- #On transforme le tout en lignes -->
<!-- lines.geom = nets |> activate(edges) |> st_geometry() -->
<!-- points_ordered = lines.geom[c(2,1,3)] |> st_cast("POINT") -->
<!-- points_ordered = c(points_ordered,points_ordered[1]) -->
<!-- line.geom = points_ordered |> st_combine() |> st_cast("LINESTRING") -->
<!-- line = st_as_sf(line.geom,id=1) -->
<!-- plot(line) -->
<!-- ``` -->
<!-- Il reste a découper cette longue ligne en tronçons de 500m. Pour cela, nous allons commencer par créer un ensemble de points distants de 500m le long de la ligne et uniformiser l’échantillonnage de la ligne : -->
<!-- ```{r} -->
<!-- # On prend une ligne et on met un point tous les 100 mètres -->
<!-- points_eqd = line.geom  |> st_line_sample(density = 1/10) |> -->
<!--   st_cast("POINT") -->
<!-- lines_eqd = line.geom  |> st_line_sample(density = 1/10) |> -->
<!--   st_cast("LINESTRING") -->
<!-- split_points = points_eqd[seq(1,length(points_eqd),by=50)] -->
<!-- plot(points_eqd,pch=20,cex=0.2) -->
<!-- ``` -->
<!-- Ceci va nous permettre de découper la ligne en tronçons de taille identique : -->
<!-- ```{r} -->
<!-- # Je découpe ma ligne avec mes points -->
<!-- troncons.col = lwgeom::st_split(lines_eqd,split_points) -->
<!-- troncons.geom = st_collection_extract(troncons.col,type = "LINESTRING") -->
<!-- troncons = st_sf(troncons.geom,id=1:length(troncons.geom)) -->
<!-- plot(troncons) -->
<!-- st_length(troncons) -->
<!-- ``` -->
<!-- Le plus dur est fait. Il ne reste plus qu'à compter et à faire une carte :). Notez le `endCapStyle` sur le `st_buffer` pour ne pas rajouter de marge aux deux extrémités des tronçons : -->
<!-- ```{r} -->
<!-- # On fait la jointure avec les accidents -->
<!-- periph_count= troncons  |> st_buffer(100,endCapStyle = 'FLAT') |>  -->
<!--   st_join(accidents.2019.paris |> filter(!duplicated(Num_Acc))) |>  -->
<!--   filter(!is.na(Num_Acc)) |>  -->
<!--   count(id) -->
<!-- # On met la bonne géométrie à periph_count -->
<!-- st_geometry(periph_count)=troncons.geom[match(periph_count$id,troncons$id)] -->
<!-- # On fait une carte -->
<!-- ggplot(periph_count) +  -->
<!--   #ggspatial::annotation_map_tile(zoom=13,type="stamenbw") +  -->
<!--   geom_sf(data=roads.geom, colour = "#666666",size=0.5)+ -->
<!--   geom_sf(aes(color=n),size=3)+ -->
<!--   scale_color_distiller("",palette = "Reds",direction=1)+ -->
<!--   coord_sf(crs = 2154, datum = NA) + -->
<!--   theme_minimal() + -->
<!--   theme(panel.background = element_rect(fill = "white",color=NA), -->
<!--         plot.background = element_rect(fill = "white",color=NA)) + -->
<!--   labs(title = "Nombre de personnes accidentées sur le périphérique", -->
<!--        subtitle = "en 2019, par portion de 500m", -->
<!--        caption = "fichier BAAC 2019, ONISR\nantuki & comeetie, 2023",x="",y="") -->
<!-- ``` -->
</section>
</section>
<section id="pour-aller-plus-loin" class="level1">
<h1>Pour aller plus loin</h1>
<section id="lissage-spatial" class="level2">
<h2 class="anchored" data-anchor-id="lissage-spatial">Lissage spatial</h2>
<p>avec le package <code>btb</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>pts <span class="ot">&lt;-</span> accidents.<span class="fl">2019.</span>paris <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">nb_acc =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(nb_acc)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>smooth_result <span class="ot">&lt;-</span> btb<span class="sc">::</span><span class="fu">btb_smooth</span>(<span class="at">pts =</span> pts,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>                              <span class="at">sEPSG =</span> <span class="dv">2154</span>,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>                              <span class="at">iCellSize =</span> <span class="dv">50</span>, </span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">iBandwidth =</span> <span class="dv">800</span>)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(smooth_result <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(nb_acc), <span class="at">border=</span><span class="cn">NA</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="données-raster" class="level2">
<h2 class="anchored" data-anchor-id="données-raster">Données raster</h2>
<ul>
<li><a href="https://github.com/r-spatial/stars/"><code>stars</code></a> et <a href="https://github.com/rspatial/terra"><code>terra</code></a></li>
</ul>
<p><img src="https://raw.githubusercontent.com/r-spatial/stars/master/images/cube1.png" class="img-fluid"></p>
</section>
<section id="géocodage" class="level2">
<h2 class="anchored" data-anchor-id="géocodage">Géocodage</h2>
<ul>
<li><a href="https://github.com/joelgombin/banR"><code>banR</code></a> et <a href="https://github.com/jessecambon/tidygeocoder"><code>tidygeocoder</code></a></li>
</ul>
<!-- evaluation désactivée en raison d'un bug de timeout en intégration continue -->
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygeocoder)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># create a dataframe with addresses</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>addresses <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="sc">~</span>name,                  <span class="sc">~</span>addr,</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="st">"Campus Hannah-Arendt"</span>,          <span class="st">"74 Rue Louis Pasteur, 84029 Avignon"</span>,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="st">"palais des Papes"</span>, <span class="st">"Pl. du Palais, 84000 Avignon"</span>                                </span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="co"># geocode the addresses</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>lat_longs <span class="ot">&lt;-</span> addresses <span class="sc">|&gt;</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>  tidygeocoder<span class="sc">::</span><span class="fu">geocode</span>(addr, <span class="at">method =</span> <span class="st">'osm'</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Passing 2 addresses to the Nominatim single address geocoder</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Query completed in: 2 seconds</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>lat_longs</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  name                 addr                                  lat  long
  &lt;chr&gt;                &lt;chr&gt;                               &lt;dbl&gt; &lt;dbl&gt;
1 Campus Hannah-Arendt 74 Rue Louis Pasteur, 84029 Avignon  43.9  4.82
2 palais des Papes     Pl. du Palais, 84000 Avignon         44.0  4.81</code></pre>
</div>
</div>
</section>
<section id="données-osm" class="level2">
<h2 class="anchored" data-anchor-id="données-osm">Données OSM</h2>
<ul>
<li><a href="https://github.com/ropensci/osmdata"><code>osmdata</code></a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(osmdata)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>bb <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">4.75</span>, <span class="fl">43.92</span>, <span class="fl">4.85</span>, <span class="fl">43.97</span>) <span class="co"># Avignon</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>roads <span class="ot">&lt;-</span> <span class="fu">opq</span> (<span class="at">bbox =</span> bb) <span class="sc">|&gt;</span> </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_osm_feature</span> (<span class="at">key =</span> <span class="st">"highway"</span>) <span class="sc">|&gt;</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">osmdata_sf</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-22" class="level2">
<h2 class="anchored" data-anchor-id="section-22"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(roads<span class="sc">$</span>osm_lines <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(highway<span class="sc">==</span><span class="st">"primary"</span>) <span class="sc">|&gt;</span> <span class="fu">st_geometry</span>(),<span class="at">lwd=</span><span class="fl">1.5</span>,<span class="at">col=</span><span class="st">"#000000"</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(roads<span class="sc">$</span>osm_lines <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(highway<span class="sc">==</span><span class="st">"secondary"</span>) <span class="sc">|&gt;</span> <span class="fu">st_geometry</span>(),<span class="at">lwd=</span><span class="dv">1</span>,<span class="at">add=</span><span class="cn">TRUE</span>,<span class="at">col=</span><span class="st">"blue"</span>)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(roads<span class="sc">$</span>osm_lines <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(highway<span class="sc">==</span><span class="st">"tertiary"</span> <span class="sc">|</span> highway<span class="sc">==</span><span class="st">"residential"</span> ) <span class="sc">|&gt;</span> <span class="fu">st_geometry</span>(),<span class="at">add=</span><span class="cn">TRUE</span>,<span class="at">col=</span><span class="st">"orange"</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(roads<span class="sc">$</span>osm_lines <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(highway<span class="sc">==</span><span class="st">"living_street"</span> ) <span class="sc">|&gt;</span> <span class="fu">st_geometry</span>(),<span class="at">add=</span><span class="cn">TRUE</span>,<span class="at">col=</span><span class="st">"red"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="réseaux-linéaires-et-graphes" class="level2">
<h2 class="anchored" data-anchor-id="réseaux-linéaires-et-graphes">Réseaux linéaires et graphes</h2>
<ul>
<li><a href="https://luukvdmeer.github.io/sfnetworks/"><code>sfnetworks</code></a> et <a href="https://tidygraph.data-imaginist.com/index.html"><code>tidygraph</code></a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sfnetworks)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>rtype<span class="ot">=</span><span class="fu">c</span>(<span class="st">"primary"</span>,<span class="st">"secondary"</span>,<span class="st">"tertiary"</span>,<span class="st">"residential"</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>net <span class="ot">=</span> sfnetworks<span class="sc">::</span><span class="fu">as_sfnetwork</span>(roads<span class="sc">$</span>osm_lines<span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(highway <span class="sc">%in%</span> rtype))</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(net<span class="sc">|&gt;</span><span class="fu">activate</span>(<span class="st">"edges"</span>)<span class="sc">|&gt;</span><span class="fu">st_geometry</span>(),<span class="at">col=</span><span class="st">"#444444"</span>)</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(net<span class="sc">|&gt;</span><span class="fu">activate</span>(<span class="st">"nodes"</span>)<span class="sc">|&gt;</span><span class="fu">st_geometry</span>(),<span class="at">col=</span><span class="st">"red"</span>, <span class="at">cex =</span> <span class="fl">0.2</span>,<span class="at">add=</span><span class="cn">TRUE</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="cartographie-interactive" class="level2">
<h2 class="anchored" data-anchor-id="cartographie-interactive">Cartographie interactive</h2>
<ul>
<li><a href="https://github.com/SymbolixAU/mapdeck"><code>mapdeck</code></a></li>
</ul>
<p>
</p>
<p><img src="https://github.com/SymbolixAU/mapdeck/raw/master/docs/articles/img/articles/hexagons.png" class="img-fluid"></p>
</section>
<section id="ressources" class="level2">
<h2 class="anchored" data-anchor-id="ressources">Ressources</h2>
<ul>
<li><p><a href="https://r-spatial.org/">rspatial</a></p></li>
<li><p><a href="https://cran.r-project.org/web/views/">CRAN task views</a> permet d’avoir des informations sur les packages du CRAN pertinents pour des tâches reliées à certains sujets.</p></li>
</ul>
</section>
<section id="section-23" class="level2">
<h2 class="anchored" data-anchor-id="section-23"></h2>
<p><a href="https://CRAN.R-project.org/view=Spatial">CRAN Task View: Analysis of Spatial Data</a>:</p>
<ul>
<li>Classes for spatial data<br>
</li>
<li>Handling spatial data<br>
</li>
<li>Reading and writing spatial data<br>
</li>
<li>Visualisation<br>
</li>
<li>Point pattern analysis<br>
</li>
<li>Geostatistics<br>
</li>
<li>Disease mapping and areal data analysis<br>
</li>
<li>Spatial regression<br>
</li>
<li>Ecological analysis</li>
</ul>
</section>
</section>
<section id="crédits-et-reproductibilité" class="level1">
<h1><small> Crédits et reproductibilité</small></h1>
<p>Cette formation s’inspire, ainsi que son tutoriel, d’une <a href="https://github.com/comeetie/satRday">précédente formation</a> donnée par les mêmes auteurs avec Timothée Giraud.</p>
<section id="section-24" class="level2">
<h2 class="anchored" data-anchor-id="section-24"></h2>
<p>Partage de la configuration de R et des packages utilisés :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.1 (2023-06-16)
Platform: x86_64-apple-darwin20 (64-bit)
Running under: macOS Monterey 12.6.5

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: UTC
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
 [1] btb_0.2.0          mapsf_0.6.1        tidygeocoder_1.0.5 remotes_2.4.2     
 [5] tidygraph_1.2.3    sfnetworks_0.6.3   ggspatial_1.1.8    readr_2.1.4       
 [9] ggplot2_3.4.2      RColorBrewer_1.1-3 osmdata_0.2.3      sf_1.0-13         
[13] mapview_2.11.0     dplyr_1.1.2       

loaded via a namespace (and not attached):
 [1] tidyselect_1.2.0        farver_2.1.1            fastmap_1.1.1          
 [4] leaflet_2.1.2           digest_0.6.31           timechange_0.2.0       
 [7] lifecycle_1.0.3         ellipsis_0.3.2          terra_1.7-36           
[10] magrittr_2.0.3          compiler_4.3.1          rlang_1.1.1            
[13] tools_4.3.1             leafpop_0.1.0           igraph_1.5.0           
[16] utf8_1.2.3              yaml_2.3.7              knitr_1.43             
[19] brew_1.0-8              htmlwidgets_1.6.2       curl_5.0.1             
[22] sp_1.6-1                classInt_0.4-9          xml2_1.3.4             
[25] KernSmooth_2.23-21      withr_2.5.0             purrr_1.0.1            
[28] grid_4.3.1              stats4_4.3.1            fansi_1.0.4            
[31] e1071_1.7-13            leafem_0.2.0            colorspace_2.1-0       
[34] scales_1.2.1            cli_3.6.1               rmarkdown_2.22         
[37] crayon_1.5.2            generics_0.1.3          RcppParallel_5.1.7     
[40] rstudioapi_0.14         httr_1.4.6              tzdb_0.4.0             
[43] DBI_1.1.3               proxy_0.4-27            s2_1.1.4               
[46] base64enc_0.1-3         vctrs_0.6.3             webshot_0.5.4          
[49] jsonlite_1.8.5          hms_1.1.3               systemfonts_1.0.4      
[52] crosstalk_1.2.0         tidyr_1.3.0             units_0.8-2            
[55] glue_1.6.2              lwgeom_0.2-13           codetools_0.2-19       
[58] leaflet.providers_1.9.0 lubridate_1.9.2         gtable_0.3.3           
[61] raster_3.6-20           munsell_0.5.0           tibble_3.2.1           
[64] pillar_1.9.0            rappdirs_0.3.3          htmltools_0.5.5        
[67] satellite_1.0.4         httr2_0.2.3             R6_2.5.1               
[70] wk_0.7.3                sfheaders_0.4.2         evaluate_0.21          
[73] lattice_0.21-8          png_0.1-8               renv_0.17.3            
[76] class_7.3-22            Rcpp_1.0.10             uuid_1.1-0             
[79] svglite_2.1.1           xfun_0.39               pkgconfig_2.0.3        </code></pre>
</div>
</div>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Notes de bas de page</h2>

<ol>
<li id="fn1"><p>Les iris sont un zonage statistique de l’Insee dont l’acronyme signifie « Ilots Regroupés pour l’Information Statistique ». Leur taille est de 2000 habitants par unité.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>